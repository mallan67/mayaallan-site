{
  "name": "Codex / Codespaces",
  "image": "mcr.microsoft.com/devcontainers/universal:2",
  "features": {
    "ghcr.io/devcontainers/features/node:1": { "version": "lts" }
  },

  // Optional: forward any ports you want to expose from the Codespace
  "forwardPorts": [8000],

  // Install codex CLI and any other deps after container is created
  "postCreateCommand": "/bin/bash -lc \"npm install -g @openai/codex || true && echo 'Codex CLI installed'\"",

  // Keep VS Code extensions consistent
  "customizations": {
    "vscode": {
      "extensions": [
        "GitHub.copilot",           // Copilot / Codex features (optional)
        "ms-vscode-remote.remote-containers"
      ],
      "settings": {
        // optionally allow network access for extensions if you need it
        "github.copilot.advanced.networkRequests": "allow"
      }
    },
    "codespaces": {
      "idleTimeout": "30m"
    }
  },

  "remoteUser": "vscode"
}
